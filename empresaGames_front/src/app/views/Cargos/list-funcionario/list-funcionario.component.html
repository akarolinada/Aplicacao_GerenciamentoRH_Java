<app-header></app-header>
<a class='text-success d-flex justify-content-center mt-5' routerLink="/home">Voltar para Home</a>
<a class='text-success d-flex justify-content-center mt-3' routerLink="/cargo/list">Voltar para Lista de Projetos</a>
<h3 class="text-success d-flex justify-content-center mt-3">Lista de Funcionarios do Projetos: {{car_nome}}</h3>

<div class="container">
  <div class='d-flex align-items-center search-container justify-content-center mb-4'>
    <div class='search-icon'><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
        class="bi bi-search" viewBox="0 0 16 16">
        <path
          d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
      </svg></div>
    <input type="text" class="search" [(ngModel)]="filter" autocomplete="off"
      placeholder="Pesquise por Nome, Cidade e Projeto">
  </div>
  <div style="height: 300px; overflow: auto;">
  <table class="table table-success table-striped">
    <caption>Lista de Funcionarios do Projeto</caption>
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Nome</th>
        <th scope="col">Cidade</th>
        <th scope="col">Ações</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of funcionarios | filter: filter">
        <th scope="row">{{item.id_funcionario}}</th>
        <td>{{item.func_nome}}</td>
        <td>{{item.func_cidade}}</td>
        <td>
          <a class="text-danger" style="cursor:pointer;" data-bs-toggle="modal" data-bs-target="#staticBackdrop" (click)="mostrarModal(item)">Remover do Projeto</a>
      </td>
      <div *ngIf="modal" class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="staticBackdropLabel">Deleção de Projeto</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <p>Tem certeza que gostaria de remover o Funcionário do Projeto?</p>
              <p><span class="fw-bold mx-2">Nome:</span>{{nomeModal}}</p>
              <p><span class="fw-bold mx-2">Cidade:</span>{{cidadeModal}}</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-sm btn-success" data-bs-dismiss="modal">Não Remover do Projeto</button>
              <button type="button" class="btn btn-sm btn-danger" data-bs-dismiss="modal" (click)="deixarFuncionarioSemCargo()">Remover do Cargo</button>
            </div>
          </div>
        </div>
      </div>
      </tr>
    </tbody>
  </table>
</div>
</div>

